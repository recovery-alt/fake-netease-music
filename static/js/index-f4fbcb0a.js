var J=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var S=(t,h)=>{var m={};for(var o in t)W.call(t,o)&&h.indexOf(o)<0&&(m[o]=t[o]);if(t!=null&&J)for(var o of J(t))h.indexOf(o)<0&&_.call(t,o)&&(m[o]=t[o]);return m};import{r,u as ee,g as C,j as a}from"./react-ac4fd5c4.js";import{B as ae,T as u,L as te,C as d}from"./index-4b87e0fa.js";import{D as y,b as se,a6 as ne,c as oe,ag as re,v as ie,ah as ce,X as ue,ai as le,Y as de}from"./index-f4592ea4.js";import{u as me}from"./react-redux-5a199f59.js";import{ac as ge,ad as pe}from"./vendor-a0dadf07.js";import"./lodash-44bc1aaf.js";import"./react-router-dom-0434928e.js";const Re=()=>{const t=oe("radio-host"),[h,m]=r.exports.useState([]),[o,F]=r.exports.useState([]),[c,P]=r.exports.useState(0),[R,N]=r.exports.useState(0),[E,w]=r.exports.useState([]),[I,T]=r.exports.useState([]),[v,j]=r.exports.useState([]),[U,L]=r.exports.useState([]),[z,A]=r.exports.useState([]),[H,b]=r.exports.useState([]),[M,Z]=r.exports.useState([]),O=me(),{push:g}=ee();function X(e,s){re(e).then(n=>{const i=n.djRadios.map(x=>{const{id:k,name:D,picUrl:f}=x;return{id:k,name:D,imgUrl:f}});s(i.slice(0,5))})}function B(e=!1){e&&R-c>1&&P(c+1),!e&&c>0&&P(c-1)}function G({item:e}){var s,n,i;return C("div",{className:t("list"),children:[a("h2",{children:e.name}),a("h4",{children:(s=e.extra)==null?void 0:s.rcmdText}),a("h4",{children:(n=e.extra)==null?void 0:n.lastProgramName}),C("h3",{children:["\xA5",Number((i=e.extra)==null?void 0:i.originalPrice)/100]})]})}function Y(e){O(ie(e))}function l(e){g(y.radioList(e))}function $(e){g(y.radioList(e,"pay"))}function p(e){var n;const s=(n=o.find(i=>i.name===e))==null?void 0:n.id;g(y.radioZone(s))}async function q(){const e=await ce();m(e.data.map(s=>({targetId:s.targetId,imageUrl:s.pic})))}async function K(){const e=await ue();F(e.categories),N(Math.ceil(e.categories.length/8))}async function Q(){const s=(await le()).data.map(n=>({id:n.id,name:n.rcmdText,imgUrl:n.picUrl}));w(s)}async function V(){const s=(await de()).data.list.map(n=>{const f=n,{id:i,name:x,picUrl:k}=f,D=S(f,["id","name","picUrl"]);return{id:i,name:x,imgUrl:k,extra:D}});T(s)}return r.exports.useEffect(()=>{q(),K(),Q(),V(),[[10001,j],[2001,L],[2,A],[3,b],[8,Z]].forEach(s=>X(...s))},[]),C("div",{className:t(),children:[a(ae,{data:h,onBannerClick:Y}),C("div",{className:t("category"),children:[c>0?a(ge,{className:t("category-arrow --left"),onClick:()=>B()}):null,R-c>1?a(pe,{className:t("category-arrow --right"),onClick:()=>B(!0)}):null,a("div",{className:t("category-wrapper"),style:{transform:`translateX(${2-c*72}vw)`},children:o.map(e=>C("div",{className:t("category-item"),onClick:()=>g(y.radioZone(e.id)),children:[a("div",{className:t("category-img-wrapper"),children:a(se,{className:t("category-img"),src:e.pic56x56Url})}),a("div",{className:t("category-text"),children:e.name})]},e.id))})]}),a(u,{name:"\u4ED8\u8D39\u7CBE\u54C1",onClick:()=>g(ne.findMusicRadioHostPay)}),a(te,{size:"large",data:I,functionChildren:G,onItemClick:$}),a(u,{name:"\u7535\u53F0\u4E2A\u6027\u63A8\u8350"}),a(d,{data:E,onItemClick:l}),a(u,{name:"\u6709\u58F0\u4E66",onClick:()=>p("\u6709\u58F0\u4E66")}),a(d,{data:v,onItemClick:l}),a(u,{name:"\u521B\u4F5C\u7FFB\u5531",onClick:()=>p("\u521B\u4F5C\u7FFB\u5531")}),a(d,{data:U,onItemClick:l}),a(u,{name:"\u97F3\u4E50\u63A8\u8350",onClick:()=>p("\u97F3\u4E50\u63A8\u8350")}),a(d,{data:z,onItemClick:l}),a(u,{name:"\u60C5\u611F",onClick:()=>p("\u60C5\u611F")}),a(d,{data:H,onItemClick:l}),a(u,{name:"\u8131\u53E3\u79C0",onClick:()=>p("\u8131\u53E3\u79C0")}),a(d,{data:M,onItemClick:l})]})};export{Re as default};
